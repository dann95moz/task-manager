<div>
  <button (click)="setFilter('all')">All</button>
  <button (click)="setFilter('completed')">Completed</button>
  <button (click)="setFilter('pending')">Pending</button>

</div>
<ul>
  <li *ngFor="let task of tasks$ | async">
    <h3>{{ task.title }}</h3>
    <p>Due: {{ task.dueDate | date }}</p>
    <button (click)="completeTask(task.id)" *ngIf="!task.completed">
      Mark as Complete
    </button>
    <button (click)="markTaskAsPending(task.id)" *ngIf="task.completed">
      Mark as Pending
    </button>
    <ul>
      <li *ngFor="let person of task.persons">
        <p>{{ person.fullName }} ({{ person.age }} years old)</p>
        <ul>
          <li *ngFor="let skill of person.skills">
            {{ skill }}
            <button (click)="removeSkill(task.id, person.id, skill)">Remove Skill</button>
          </li>
        </ul>
        <button (click)="removePerson(task.id, person.id)">Remove Person</button>
      </li>
    </ul>
  </li>
</ul>