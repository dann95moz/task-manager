<form [formGroup]="taskForm" (ngSubmit)="onSubmit()">
  <input formControlName="title" placeholder="Task title">
  <input formControlName="dueDate" type="date">
  
  <div formArrayName="persons">
    <div *ngFor="let person of persons.controls; let i = index" [formGroupName]="i">
      <input formControlName="fullName" placeholder="Full name">
      <input formControlName="age" type="number" placeholder="Age">
      
      <div formArrayName="skills">
        <div *ngFor="let skill of personSkills(i).controls; let j = index">
          <input [formControlName]="j" placeholder="Skill">
          <button type="button" (click)="removeSkill(i, j)">Remove Skill</button>
        </div>
        <button type="button" (click)="addSkill(i)">Add Skill</button>
      </div>
      
      <button type="button" (click)="removePerson(i)">Remove Person</button>
    </div>
    <button type="button" (click)="addPerson()">Add Person</button>
  </div>
  
  <button type="submit" [disabled]="taskForm.invalid">Create Task</button>
</form>